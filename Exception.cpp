/// \file
/// \author Xavier Michelon
///
/// \brief Implementation of exception class.


#include "Exception.h"


//****************************************************************************************************************************************************
/// \param[in] message The description of the exception.
//****************************************************************************************************************************************************
Exception::Exception(QString message)
    : std::exception()
    , message_(std::move(message)) {
}


//****************************************************************************************************************************************************
//
//****************************************************************************************************************************************************
QString Exception::message() const {
    return message_;
}


//****************************************************************************************************************************************************
/// \return A C-style string containing the description of the exception.
//****************************************************************************************************************************************************
char const *Exception::what() const noexcept {
    if (what_.isEmpty()) {
        what_ = message_.toLocal8Bit();
    }
    return what_.constData();
}
